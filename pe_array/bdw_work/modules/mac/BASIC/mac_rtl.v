// Generated by stratus_hls 19.10-p100  (91500.011111)
// Wed Dec  2 16:54:58 2020
// from mac.cpp

`timescale 1ps / 1ps

      
module mac(clk, rstn, init, clear, src_vld, src_0, src_1, acc, src_1_1d);

      input clk;
      input rstn;
      input init;
      input clear;
      input src_vld;
      input [9:0] src_0;
      input [7:0] src_1;
      output [31:0] acc;
      reg [31:0] acc;
      output [7:0] src_1_1d;
      reg [7:0] src_1_1d;
      /*signed*/wire[17:0] mac_Mul_10Sx8S_18S_1_1_out1;
      reg[31:0] mac_N_Mux_32_2_0_4_5_out1;
      reg[31:0] mac_N_Mux_32_2_0_4_4_out1;
      reg[17:0] mac_N_Mux_18_2_1_1_2_out1;
      /*signed*/wire[31:0] mac_Add_32Sx18S_32S_4_3_out1;
      reg[31:0] mac_N_Mux_32_2_0_4_6_out1;

         // rtl_process:mac/drive_acc
         // Sharing or Control mux
         // Sharing/Controlling 3 operation(s) on drive_acc
         // at: mac.h:35:7
         // at: mac.h:41:7
         always @(posedge clk or negedge rstn)
          begin :drive_acc
            if (rstn == 1'b0) begin
               // op:_accumulator/OP13
               acc <= 32'd0000000000;
            end
            else begin
               // op:_accumulator/OP24
               acc <= mac_N_Mux_32_2_0_4_6_out1;
            end
         end

         // rtl_instance:mac/mac_Add_32Sx18S_32S_4_3
         // Resource=mac_Add_32Sx18S_32S_4, Function=add : Inputs=32S,18S Outputs=32S
         // Implements 1 operation(s)
         // at: mac.h:41:24
         assign mac_Add_32Sx18S_32S_4_3_out1 = acc + {{ 14 {mac_N_Mux_18_2_1_1_2_out1[17]}}, mac_N_Mux_18_2_1_1_2_out1};

         // rtl_instance:mac/mac_N_Mux_32_2_0_4
         always @(acc or src_vld or mac_Add_32Sx18S_32S_4_3_out1)
          begin :mac_N_Mux_32_2_0_4_4
            if (src_vld) begin
               mac_N_Mux_32_2_0_4_4_out1 = mac_Add_32Sx18S_32S_4_3_out1;
            end
            else begin
               mac_N_Mux_32_2_0_4_4_out1 = acc;
            end
         end

         // rtl_instance:mac/mac_N_Mux_32_2_0_4
         always @(clear or mac_N_Mux_18_2_1_1_2_out1 or mac_N_Mux_32_2_0_4_4_out1)
          begin :mac_N_Mux_32_2_0_4_5
            if (clear) begin
               mac_N_Mux_32_2_0_4_5_out1 = {{ 14 {mac_N_Mux_18_2_1_1_2_out1[17]}}, mac_N_Mux_18_2_1_1_2_out1};
            end
            else begin
               mac_N_Mux_32_2_0_4_5_out1 = mac_N_Mux_32_2_0_4_4_out1;
            end
         end

         // rtl_instance:mac/mac_N_Mux_32_2_0_4
         always @(init or mac_N_Mux_32_2_0_4_5_out1)
          begin :mac_N_Mux_32_2_0_4_6
            if (init) begin
               mac_N_Mux_32_2_0_4_6_out1 = 32'd0000000000;
            end
            else begin
               mac_N_Mux_32_2_0_4_6_out1 = mac_N_Mux_32_2_0_4_5_out1;
            end
         end

         // rtl_instance:mac/mac_Mul_10Sx8S_18S_1_1
         // Resource=mac_Mul_10Sx8S_18S_1, Function=mul : Inputs=10S,8S Outputs=18S
         // Implements 1 operation(s)
         // at: mac.h:30:26
         assign mac_Mul_10Sx8S_18S_1_1_out1 = {{ 8 {src_0[9]}}, src_0}*{{ 10 {src_1[7]}}, src_1};

         // rtl_instance:mac/mac_N_Mux_18_2_1_1
         always @(src_vld or mac_Mul_10Sx8S_18S_1_1_out1)
          begin :mac_N_Mux_18_2_1_1_2
            if (src_vld) begin
               mac_N_Mux_18_2_1_1_2_out1 = mac_Mul_10Sx8S_18S_1_1_out1;
            end
            else begin
               mac_N_Mux_18_2_1_1_2_out1 = 18'd000000;
            end
         end

         // rtl_process:mac/drive_src_1_1d
         // Sharing or Control mux
         // Sharing/Controlling 2 operation(s) on drive_src_1_1d
         // at: mac.h:23:2
         // at: mac.h:25:2
         always @(posedge clk or negedge rstn)
          begin :drive_src_1_1d
            if (rstn == 1'b0) begin
               // op:_delays/OP0
               src_1_1d <= 8'd000;
            end
            else begin
               // op:_delays/OP2
               src_1_1d <= src_1;
            end
         end


endmodule


