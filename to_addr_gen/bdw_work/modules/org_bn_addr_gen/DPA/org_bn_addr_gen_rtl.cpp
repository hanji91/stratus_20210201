// Generated by stratus_hls 19.10-p100  (91500.011111)
// Mon Jan  4 18:10:28 2021
// from org_bn_addr_gen.cpp
#include "org_bn_addr_gen_rtl.h"

struct org_bn_addr_gen;
org_bn_addr_gen::org_bn_addr_gen(sc_module_name name) : sc_module(name) 
    ,clk("clk")
    ,rstn("rstn")
    ,out_feature_width("out_feature_width")
    ,out_feature_height("out_feature_height")
    ,out_feature_channel("out_feature_channel")
    ,bn_read_base_addr("bn_read_base_addr")
    ,bn_en("bn_en")
    ,start_rising("start_rising")
    ,data_en("data_en")
    ,bn_addr("bn_addr")
    ,bn_addr_valid("bn_addr_valid")
    ,org_bn_addr_gen_Eqi3u16_1_3_out1("org_bn_addr_gen_Eqi3u16_1_3_out1")
    ,org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1("org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1")
    ,org_bn_addr_gen_Muxi0u16u1_4_6_out1("org_bn_addr_gen_Muxi0u16u1_4_6_out1")
    ,org_bn_addr_gen_EqSubi1u16u16_1_7_out1("org_bn_addr_gen_EqSubi1u16u16_1_7_out1")
    ,org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1("org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1")
    ,org_bn_addr_gen_And_1Ux1U_1U_1_4_out1("org_bn_addr_gen_And_1Ux1U_1U_1_4_out1")
    ,org_bn_addr_gen_Muxi0u16u1_4_10_out1("org_bn_addr_gen_Muxi0u16u1_4_10_out1")
    ,ox_cnt("ox_cnt")
    ,org_bn_addr_gen_EqSubi1u16u16_1_11_out1("org_bn_addr_gen_EqSubi1u16u16_1_11_out1")
    ,org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1("org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1")
    ,org_bn_addr_gen_And_1Ux1U_1U_1_8_out1("org_bn_addr_gen_And_1Ux1U_1U_1_8_out1")
    ,org_bn_addr_gen_Muxi0u16u1_4_14_out1("org_bn_addr_gen_Muxi0u16u1_4_14_out1")
    ,oy_cnt("oy_cnt")
    ,org_bn_addr_gen_EqSubi1u16u16_1_15_out1("org_bn_addr_gen_EqSubi1u16u16_1_15_out1")
    ,org_bn_addr_gen_And_1Ux1U_1U_1_16_out1("org_bn_addr_gen_And_1Ux1U_1U_1_16_out1")
    ,org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1("org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1")
    ,org_bn_addr_gen_And_1Ux1U_1U_1_12_out1("org_bn_addr_gen_And_1Ux1U_1U_1_12_out1")
    ,org_bn_addr_gen_Muxi0u16u1_4_18_out1("org_bn_addr_gen_Muxi0u16u1_4_18_out1")
    ,of_cnt_max_slice("of_cnt_max_slice")
    ,oy_cnt_max("oy_cnt_max")
    ,ox_cnt_max("ox_cnt_max")
    ,valid_cnt("valid_cnt")
    ,of_cnt("of_cnt")
    ,org_bn_addr_gen_Equal_8Ux1U_1U_4_1_out1("org_bn_addr_gen_Equal_8Ux1U_1U_4_1_out1")
    ,org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1("org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1")
{
  SC_METHOD(drive_bn_addr_valid);
  sensitive << ( data_en );

  SC_METHOD(drive_bn_addr);
  sensitive << ( org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1 );

  SC_METHOD(org_bn_addr_gen_Equal_8Ux1U_1U_4_1);
  sensitive << ( bn_en );

  SC_METHOD(org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2);
  sensitive << ( org_bn_addr_gen_Equal_8Ux1U_1U_4_1_out1 );
  sensitive << ( valid_cnt );
  sensitive << ( of_cnt );
  sensitive << ( bn_read_base_addr );

  SC_METHOD(drive_ox_cnt_max);
  sensitive << clk.pos();
  dont_initialize();

  SC_METHOD(drive_oy_cnt_max);
  sensitive << clk.pos();
  dont_initialize();

  SC_METHOD(drive_of_cnt_max_slice);
  sensitive << clk.pos();
  dont_initialize();

  SC_METHOD(drive_of_cnt);
  sensitive << clk.pos();
  sensitive << rstn.neg();
  dont_initialize();

  SC_METHOD(org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_12_out1 );
  sensitive << ( of_cnt );

  SC_METHOD(org_bn_addr_gen_Muxi0u16u1_4_18);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_16_out1 );
  sensitive << ( org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1 );

  SC_METHOD(org_bn_addr_gen_EqSubi1u16u16_1_15);
  sensitive << ( of_cnt_max_slice );
  sensitive << ( of_cnt );

  SC_METHOD(org_bn_addr_gen_And_1Ux1U_1U_1_16);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_12_out1 );
  sensitive << ( org_bn_addr_gen_EqSubi1u16u16_1_15_out1 );

  SC_METHOD(drive_oy_cnt);
  sensitive << clk.pos();
  sensitive << rstn.neg();
  dont_initialize();

  SC_METHOD(org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_8_out1 );
  sensitive << ( oy_cnt );

  SC_METHOD(org_bn_addr_gen_Muxi0u16u1_4_14);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_12_out1 );
  sensitive << ( org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1 );

  SC_METHOD(org_bn_addr_gen_EqSubi1u16u16_1_11);
  sensitive << ( oy_cnt_max );
  sensitive << ( oy_cnt );

  SC_METHOD(org_bn_addr_gen_And_1Ux1U_1U_1_12);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_8_out1 );
  sensitive << ( org_bn_addr_gen_EqSubi1u16u16_1_11_out1 );

  SC_METHOD(drive_ox_cnt);
  sensitive << clk.pos();
  sensitive << rstn.neg();
  dont_initialize();

  SC_METHOD(org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_4_out1 );
  sensitive << ( ox_cnt );

  SC_METHOD(org_bn_addr_gen_Muxi0u16u1_4_10);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_8_out1 );
  sensitive << ( org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1 );

  SC_METHOD(org_bn_addr_gen_EqSubi1u16u16_1_7);
  sensitive << ( ox_cnt_max );
  sensitive << ( ox_cnt );

  SC_METHOD(org_bn_addr_gen_And_1Ux1U_1U_1_8);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_4_out1 );
  sensitive << ( org_bn_addr_gen_EqSubi1u16u16_1_7_out1 );

  SC_METHOD(drive_valid_cnt);
  sensitive << clk.pos();
  sensitive << rstn.neg();
  dont_initialize();

  SC_METHOD(org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5);
  sensitive << ( data_en );
  sensitive << ( valid_cnt );

  SC_METHOD(org_bn_addr_gen_Muxi0u16u1_4_6);
  sensitive << ( org_bn_addr_gen_And_1Ux1U_1U_1_4_out1 );
  sensitive << ( org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1 );

  SC_METHOD(org_bn_addr_gen_Eqi3u16_1_3);
  sensitive << ( valid_cnt );

  SC_METHOD(org_bn_addr_gen_And_1Ux1U_1U_1_4);
  sensitive << ( data_en );
  sensitive << ( org_bn_addr_gen_Eqi3u16_1_3_out1 );

}
void org_bn_addr_gen::drive_bn_addr_valid(){
  bn_addr_valid = data_en.read();
}
void org_bn_addr_gen::drive_bn_addr(){
  bn_addr = org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1.read();
}
// resource: org_bn_addr_gen_Equal_8Ux1U_1U_4  instance: org_bn_addr_gen_Equal_8Ux1U_1U_4_1
void org_bn_addr_gen::org_bn_addr_gen_Equal_8Ux1U_1U_4_1(){
  org_bn_addr_gen_Equal_8Ux1U_1U_4_1_out1 = (bn_en.read() == 1ULL);
}
// resource: org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4
void org_bn_addr_gen::org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2(){
  if ( org_bn_addr_gen_Equal_8Ux1U_1U_4_1_out1.read() ) {
    org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1 = (( (bn_read_base_addr
                                                         .read() + ( (
                                                         sc_uint<18> )
                                                         (sc_bv<18>)((sc_bv<16>)
                                                         (of_cnt.read()), 
                                                         (sc_bv<2>)(0ULL)) )) )
                                                          + valid_cnt.read());
  } else {
    org_bn_addr_gen_MuxAdd3u16Cati0u16u32i0u1_4_2_out1 = 0ULL;
  }
}
// resource: regr_16
void org_bn_addr_gen::drive_ox_cnt_max(){
  ox_cnt_max = out_feature_width.read();
}
// resource: regr_16
void org_bn_addr_gen::drive_oy_cnt_max(){
  oy_cnt_max = out_feature_height.read();
}
// resource: regr_11
void org_bn_addr_gen::drive_of_cnt_max_slice(){
  of_cnt_max_slice = (sc_uint<11> ) (out_feature_channel.read().range(15,5));
}
// resource: regr_ac_16
void org_bn_addr_gen::drive_of_cnt(){
  if ( (rstn.read() == 0ULL) ) {
    of_cnt = 0ULL;
  } else {
    of_cnt = org_bn_addr_gen_Muxi0u16u1_4_18_out1.read();
  }
}
// resource: org_bn_addr_gen_MuxAdd2i1u16u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_12_out1.read() ) {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1 = (of_cnt.read() + 1ULL);
  } else {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1 = of_cnt.read();
  }
}
// resource: org_bn_addr_gen_Muxi0u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_Muxi0u16u1_4_18(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_16_out1.read() ) {
    org_bn_addr_gen_Muxi0u16u1_4_18_out1 = 0ULL;
  } else {
    org_bn_addr_gen_Muxi0u16u1_4_18_out1 = org_bn_addr_gen_MuxAdd2i1u16u16u1_4_17_out1
                                           .read();
  }
}
// resource: org_bn_addr_gen_EqSubi1u16u16_1  instance: org_bn_addr_gen_EqSubi1u16u16_1_15
void org_bn_addr_gen::org_bn_addr_gen_EqSubi1u16u16_1_15(){
  org_bn_addr_gen_EqSubi1u16u16_1_15_out1 = ((sc_int<17> )of_cnt.read() == ( (
                                            sc_uint<16> )(sc_bv<16>)((sc_bv<5>)(
                                            0ULL), 
                                            (sc_bv<11>)(of_cnt_max_slice.read())
                                            ) ) - 1ULL);
}
// resource: org_bn_addr_gen_And_1Ux1U_1U_1  instance: org_bn_addr_gen_And_1Ux1U_1U_1_16
void org_bn_addr_gen::org_bn_addr_gen_And_1Ux1U_1U_1_16(){
  org_bn_addr_gen_And_1Ux1U_1U_1_16_out1 = org_bn_addr_gen_EqSubi1u16u16_1_15_out1
                                           .read() & org_bn_addr_gen_And_1Ux1U_1U_1_12_out1
                                           .read();
}
// resource: regr_ac_16
void org_bn_addr_gen::drive_oy_cnt(){
  if ( (rstn.read() == 0ULL) ) {
    oy_cnt = 0ULL;
  } else {
    oy_cnt = org_bn_addr_gen_Muxi0u16u1_4_14_out1.read();
  }
}
// resource: org_bn_addr_gen_MuxAdd2i1u16u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_8_out1.read() ) {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1 = (oy_cnt.read() + 1ULL);
  } else {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1 = oy_cnt.read();
  }
}
// resource: org_bn_addr_gen_Muxi0u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_Muxi0u16u1_4_14(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_12_out1.read() ) {
    org_bn_addr_gen_Muxi0u16u1_4_14_out1 = 0ULL;
  } else {
    org_bn_addr_gen_Muxi0u16u1_4_14_out1 = org_bn_addr_gen_MuxAdd2i1u16u16u1_4_13_out1
                                           .read();
  }
}
// resource: org_bn_addr_gen_EqSubi1u16u16_1  instance: org_bn_addr_gen_EqSubi1u16u16_1_11
void org_bn_addr_gen::org_bn_addr_gen_EqSubi1u16u16_1_11(){
  org_bn_addr_gen_EqSubi1u16u16_1_11_out1 = ((sc_int<17> )oy_cnt.read() == 
                                            oy_cnt_max.read() - 1ULL);
}
// resource: org_bn_addr_gen_And_1Ux1U_1U_1  instance: org_bn_addr_gen_And_1Ux1U_1U_1_12
void org_bn_addr_gen::org_bn_addr_gen_And_1Ux1U_1U_1_12(){
  org_bn_addr_gen_And_1Ux1U_1U_1_12_out1 = org_bn_addr_gen_EqSubi1u16u16_1_11_out1
                                           .read() & 
                                           org_bn_addr_gen_And_1Ux1U_1U_1_8_out1
                                           .read();
}
// resource: regr_ac_16
void org_bn_addr_gen::drive_ox_cnt(){
  if ( (rstn.read() == 0ULL) ) {
    ox_cnt = 0ULL;
  } else {
    ox_cnt = org_bn_addr_gen_Muxi0u16u1_4_10_out1.read();
  }
}
// resource: org_bn_addr_gen_MuxAdd2i1u16u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_4_out1.read() ) {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1 = (ox_cnt.read() + 1ULL);
  } else {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1 = ox_cnt.read();
  }
}
// resource: org_bn_addr_gen_Muxi0u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_Muxi0u16u1_4_10(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_8_out1.read() ) {
    org_bn_addr_gen_Muxi0u16u1_4_10_out1 = 0ULL;
  } else {
    org_bn_addr_gen_Muxi0u16u1_4_10_out1 = org_bn_addr_gen_MuxAdd2i1u16u16u1_4_9_out1
                                           .read();
  }
}
// resource: org_bn_addr_gen_EqSubi1u16u16_1  instance: org_bn_addr_gen_EqSubi1u16u16_1_7
void org_bn_addr_gen::org_bn_addr_gen_EqSubi1u16u16_1_7(){
  org_bn_addr_gen_EqSubi1u16u16_1_7_out1 = ((sc_int<17> )ox_cnt.read() == 
                                           ox_cnt_max.read() - 1ULL);
}
// resource: org_bn_addr_gen_And_1Ux1U_1U_1  instance: org_bn_addr_gen_And_1Ux1U_1U_1_8
void org_bn_addr_gen::org_bn_addr_gen_And_1Ux1U_1U_1_8(){
  org_bn_addr_gen_And_1Ux1U_1U_1_8_out1 = org_bn_addr_gen_EqSubi1u16u16_1_7_out1
                                          .read() & 
                                          org_bn_addr_gen_And_1Ux1U_1U_1_4_out1
                                          .read();
}
// resource: regr_ac_16
void org_bn_addr_gen::drive_valid_cnt(){
  if ( (rstn.read() == 0ULL) ) {
    valid_cnt = 0ULL;
  } else {
    valid_cnt = org_bn_addr_gen_Muxi0u16u1_4_6_out1.read();
  }
}
// resource: org_bn_addr_gen_MuxAdd2i1u16u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5(){
  if ( data_en.read() ) {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1 = (valid_cnt.read() + 1ULL);
  } else {
    org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1 = valid_cnt.read();
  }
}
// resource: org_bn_addr_gen_Muxi0u16u1_4
void org_bn_addr_gen::org_bn_addr_gen_Muxi0u16u1_4_6(){
  if ( org_bn_addr_gen_And_1Ux1U_1U_1_4_out1.read() ) {
    org_bn_addr_gen_Muxi0u16u1_4_6_out1 = 0ULL;
  } else {
    org_bn_addr_gen_Muxi0u16u1_4_6_out1 = org_bn_addr_gen_MuxAdd2i1u16u16u1_4_5_out1
                                          .read();
  }
}
// resource: org_bn_addr_gen_Eqi3u16_1  instance: org_bn_addr_gen_Eqi3u16_1_3
void org_bn_addr_gen::org_bn_addr_gen_Eqi3u16_1_3(){
  org_bn_addr_gen_Eqi3u16_1_3_out1 = (valid_cnt.read() == 3ULL);
}
// resource: org_bn_addr_gen_And_1Ux1U_1U_1  instance: org_bn_addr_gen_And_1Ux1U_1U_1_4
void org_bn_addr_gen::org_bn_addr_gen_And_1Ux1U_1U_1_4(){
  org_bn_addr_gen_And_1Ux1U_1U_1_4_out1 = org_bn_addr_gen_Eqi3u16_1_3_out1
                                          .read() & (sc_uint<1> )data_en.read();
}
